{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"E:\\\\EDYODA\\\\Assignment + Projects\\\\kafene\\\\kafene\\\\src\\\\Container\\\\ProductListing\\\\Product.js\";\nimport React from 'react';\nimport Axios from 'axios';\nimport classes from '../ProductListing/Product.module.css';\nimport { Link } from 'react-router-dom';\n\nclass ProductListingPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      productList: [],\n      filteredList: [],\n      showExpired: true,\n      showLowStock: true\n    };\n\n    this.renderTableRow = obj => {\n      const day = obj.expiryDate.split('-')[0];\n      const month = obj.expiryDate.split('-')[1];\n      const year = obj.expiryDate.split('-')[2];\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: [classes.TableRow, obj.isExpired ? classes.ExpiredRow : null].join(' '),\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: classes.SecondaryText,\n          children: obj.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: classes.PrimaryText,\n          children: obj.medicineName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: classes.SecondaryText,\n          children: obj.medicineBrand\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: classes.PrimaryText,\n          children: `${day} ${month}, ${year}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: classes.SecondaryText,\n          children: `$${obj.unitPrice}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: classes.SecondaryText,\n          children: obj.stock\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this)]\n      }, obj.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.getOrdersByStatus = (type, value) => {\n      if (!value) {\n        return [];\n      }\n\n      switch (type) {\n        case \"expired\":\n          const arr = [...this.state.productList].filter(item => {\n            return item.isExpired;\n          });\n          return arr;\n\n        case \"lowStock\":\n          return [...this.state.productList].filter(item => {\n            return item.isLowStock;\n          });\n\n        case \"remaining\":\n          var result = [...this.state.productList].filter(item => {\n            return !item.isLowStock;\n          }).filter(item => {\n            return !item.isExpired;\n          });\n          result.pop();\n          result.pop();\n          return result;\n      }\n    };\n\n    this.onFilterCheckboxClick = (type, value) => {\n      switch (type) {\n        case \"expired\":\n          if (value) {\n            var updatedVal = [...this.getOrdersByStatus('expired', value), ...this.getOrdersByStatus('lowStock', this.state.showLowStock), ...this.getOrdersByStatus('remaining', value)];\n            this.setState({\n              showExpired: value,\n              filteredList: [...updatedVal]\n            });\n          } else {\n            var updatedVal = [...this.state.filteredList].filter(item => {\n              return !item.isExpired;\n            });\n            this.setState({\n              showExpired: value,\n              filteredList: [...updatedVal, ...this.getOrdersByStatus('remaining', value)]\n            });\n          }\n\n          break;\n\n        case \"lowStock\":\n          if (value) {\n            var updatedVal = [...this.getOrdersByStatus('expired', this.state.showExpired), ...this.getOrdersByStatus('lowStock', value), ...this.getOrdersByStatus('remaining', value)];\n            this.setState({\n              showLowStock: value,\n              filteredList: [...updatedVal]\n            });\n          } else {\n            var updatedVal = [...this.state.filteredList].filter(item => {\n              return !item.isLowStock;\n            });\n            this.setState({\n              showLowStock: value,\n              filteredList: [...updatedVal, ...this.getOrdersByStatus('remaining', value)]\n            });\n          }\n\n          break;\n      }\n    };\n  }\n\n  componentDidMount() {\n    Axios.get('https://5fc1a1c9cb4d020016fe6b07.mockapi.io/api/v1/products').then(res => {\n      console.log(res.data);\n      const updatedData = [...res.data].map(item => {\n        return { ...item,\n          isExpired: new Date(item.expiryDate).getTime() < new Date().getTime(),\n          isLowStock: item.stock < 100\n        };\n      });\n      this.setState({\n        productList: [...updatedData],\n        filteredList: [...updatedData]\n      });\n    }).catch();\n  }\n\n  render() {\n    var tableRows = this.state.filteredList.map(item => {\n      return this.renderTableRow(item);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.PageWrapper,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: classes.MainHeading,\n        children: \"Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.OrdersWrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.FilterWrapper,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.FilterOptions,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: classes.TotalCount,\n              children: [\"Count: \", this.state.filteredList.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: classes.FilterCheckbox,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                onClick: e => this.onFilterCheckboxClick('expired', e.target.checked),\n                type: \"checkbox\",\n                checked: this.state.showExpired,\n                type: \"checkbox\",\n                name: \"product-expired\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 33\n              }, this), \"Expired\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: classes.FilterCheckbox,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                onClick: e => this.onFilterCheckboxClick('lowStock', e.target.checked),\n                type: \"checkbox\",\n                checked: this.state.showLowStock,\n                type: \"checkbox\",\n                name: \"product-low-stock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this), \"Low Stock\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"productdetail\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: classes.OrderTable,\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Product Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Product Brand\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    minWidth: '100px'\n                  },\n                  children: \"Expiry Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Unit Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Stock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: tableRows\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ProductListingPage;","map":{"version":3,"sources":["E:/EDYODA/Assignment + Projects/kafene/kafene/src/Container/ProductListing/Product.js"],"names":["React","Axios","classes","Link","ProductListingPage","Component","state","productList","filteredList","showExpired","showLowStock","renderTableRow","obj","day","expiryDate","split","month","year","TableRow","isExpired","ExpiredRow","join","SecondaryText","id","PrimaryText","medicineName","medicineBrand","unitPrice","stock","getOrdersByStatus","type","value","arr","filter","item","isLowStock","result","pop","onFilterCheckboxClick","updatedVal","setState","componentDidMount","get","then","res","console","log","data","updatedData","map","Date","getTime","catch","render","tableRows","PageWrapper","MainHeading","OrdersWrapper","FilterWrapper","FilterOptions","TotalCount","length","FilterCheckbox","e","target","checked","width","OrderTable","minWidth"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Axios from 'axios'\r\n\r\nimport classes from '../ProductListing/Product.module.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass ProductListingPage extends React.Component {\r\n    state = {\r\n        productList: [],\r\n        filteredList: [],\r\n        showExpired: true,\r\n        showLowStock: true,\r\n    }\r\n\r\n    componentDidMount() {\r\n        Axios.get('https://5fc1a1c9cb4d020016fe6b07.mockapi.io/api/v1/products')\r\n        .then(res => {\r\n            console.log(res.data)\r\n            const updatedData = [...res.data].map(item => {\r\n                return {\r\n                    ...item,\r\n                    isExpired: (new Date(item.expiryDate).getTime() < new Date().getTime()),\r\n                    isLowStock: item.stock < 100\r\n                }\r\n            })\r\n            this.setState({productList: [...updatedData], filteredList: [...updatedData]});\r\n        })\r\n        .catch()\r\n    }\r\n\r\n    renderTableRow = (obj) => {\r\n        const day = obj.expiryDate.split('-')[0];\r\n        const month = obj.expiryDate.split('-')[1];\r\n        const year = obj.expiryDate.split('-')[2];\r\n\r\n        return (\r\n            <tr className={[classes.TableRow, obj.isExpired ? classes.ExpiredRow : null].join(' ')} key={obj.id}>\r\n                <td className={classes.SecondaryText}>{obj.id}</td>\r\n                <td className={classes.PrimaryText}>{obj.medicineName}</td>\r\n                <td className={classes.SecondaryText}>{obj.medicineBrand}</td>\r\n                <td className={classes.PrimaryText}>{`${day} ${month}, ${year}`}</td>\r\n                <td className={classes.SecondaryText}>{`$${obj.unitPrice}`}</td>\r\n                <td className={classes.SecondaryText}>{obj.stock}</td>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    getOrdersByStatus = (type, value) => {\r\n        if(!value) {\r\n            return []\r\n        }\r\n        switch(type) {\r\n            case \"expired\":\r\n                const arr = [...this.state.productList].filter(item => {\r\n                    return item.isExpired\r\n                })\r\n                return arr;\r\n            case \"lowStock\":\r\n                return [...this.state.productList].filter(item => {\r\n                    return item.isLowStock\r\n                })\r\n            case \"remaining\": \r\n                var result = [...this.state.productList].filter(item => {\r\n                    return !item.isLowStock \r\n                }).filter(item => {\r\n                    return !item.isExpired\r\n                })\r\n                result.pop()\r\n                result.pop()\r\n                return result\r\n        }\r\n    }\r\n\r\n    onFilterCheckboxClick = (type, value) => {\r\n        switch(type) {\r\n            case \"expired\":\r\n                if(value) {\r\n                    var updatedVal = [...this.getOrdersByStatus('expired', value), ...this.getOrdersByStatus('lowStock', this.state.showLowStock), ...this.getOrdersByStatus('remaining', value)];\r\n\r\n                    this.setState({showExpired: value, filteredList: [...updatedVal]});\r\n                } else {\r\n                    var updatedVal = [...this.state.filteredList].filter(item => {\r\n                        return !item.isExpired\r\n                    })\r\n                    this.setState({showExpired: value, filteredList: [...updatedVal, ...this.getOrdersByStatus('remaining', value)]})\r\n                }\r\n                break;\r\n            case \"lowStock\":\r\n                if(value) {\r\n                    var updatedVal = [...this.getOrdersByStatus('expired', this.state.showExpired), ...this.getOrdersByStatus('lowStock', value), ...this.getOrdersByStatus('remaining', value)];\r\n\r\n                    this.setState({showLowStock: value, filteredList: [...updatedVal]});\r\n                } else {\r\n                    var updatedVal = [...this.state.filteredList].filter(item => {\r\n                        return !item.isLowStock\r\n                    })\r\n                    this.setState({showLowStock: value, filteredList: [...updatedVal, ...this.getOrdersByStatus('remaining', value)]})\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var tableRows = this.state.filteredList.map(item => {\r\n            return this.renderTableRow(item)\r\n        })\r\n        return(\r\n            <div className={classes.PageWrapper}>\r\n                <h1 className={classes.MainHeading}>Products</h1>\r\n                <div className={classes.OrdersWrapper}>\r\n                    <div className={classes.FilterWrapper}>\r\n                        <h3>Filters</h3>\r\n                        <div className={classes.FilterOptions}>\r\n                            <p className={classes.TotalCount}>Count: {this.state.filteredList.length}</p>\r\n                            <label className={classes.FilterCheckbox}>\r\n                                <input onClick={(e) => this.onFilterCheckboxClick('expired', e.target.checked)} type=\"checkbox\" checked={this.state.showExpired} type=\"checkbox\" name=\"product-expired\" />\r\n                                Expired\r\n                            </label>\r\n                            <label className={classes.FilterCheckbox}>\r\n                                <input onClick={(e) => this.onFilterCheckboxClick('lowStock', e.target.checked)} type=\"checkbox\" checked={this.state.showLowStock} type=\"checkbox\" name=\"product-low-stock\" />\r\n                                Low Stock\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                <Link to = \"productdetail\">\r\n                    <div style={{width: '100%'}}>\r\n                        <table className={classes.OrderTable}>\r\n                            <tr>\r\n                                <th>ID</th>\r\n                                <th>Product Name</th>\r\n                                <th>Product Brand</th>\r\n                                <th style={{minWidth: '100px'}}>Expiry Date</th>\r\n                                <th>Unit Price</th>\r\n                                <th>Stock</th>\r\n                            </tr>\r\n\r\n                        <tbody>\r\n                            {tableRows}\r\n                        </tbody>\r\n                        </table>\r\n                    </div>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductListingPage;"]},"metadata":{},"sourceType":"module"}